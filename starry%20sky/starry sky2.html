<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>starry sky2</title>
</head>
<body>
<canvas id="canvas" style=" border:1px solid #000; display:block; margin:auto;">
</canvas>
<script type="text/javascript">
window.onload=function(){
	var canvas=document.getElementById("canvas");
	var context=canvas.getContext("2d");
	
	canvas.width=800;
	canvas.height=800;
	
	context.fillStyle="#000";
	context.fillRect(0,0,canvas.width,canvas.height);
	
	for(var i=0;i<100;i++){
		var R=Math.random()*20+5;
		var x=Math.random()*canvas.width;
		var y=Math.random()*canvas.height;
		var rot=Math.random()*360;
		drawstar(context,R,x,y,rot);
	}
		
function drawstar(cxt,R,x,y,rot){
	cxt.save();//使用save和restore接口指令保存状态
	//图形变换效果使五角星平移，旋转，放大
	cxt.translate(x,y);
	cxt.rotate(rot/180*Math.PI);
	cxt.scale(R,R);
	//调用函数绘制五角星路径
	starpath(cxt);
	
	cxt.fillStyle="#ffff00";
	cxt.fill();
	
	cxt.restore();
}

function starpath(cxt){
	cxt.beginPath();
	for(var i=0;i<5;i++){
		cxt.lineTo(Math.cos((18+i*72)/180*Math.PI),-Math.sin((18+i*72)/180*Math.PI));//外圆点坐标
		cxt.lineTo(Math.cos((54+i*72)/180*Math.PI)*0.5,-Math.sin((54+i*72)/180*Math.PI)*0.5);//内圆点坐标
	}
	cxt.closePath();
}

}
</script>
</body>
</html>
